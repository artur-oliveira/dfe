package org.dfe.util;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

class XMLStringUtilsTest {

    @Test
    void testCleanNamespace() {
        String xmlWithNameSpace = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><ns2:nfeProc versao=\"4.00\" xmlns=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:ns2=\"http://www.portalfiscal.inf.br/nfe\"><ns2:NFe><ns2:infNFe versao=\"4.00\" Id=\"NFe22230511520224000140550010000450351673414066\"><ns2:ide><ns2:cUF>22</ns2:cUF><ns2:cNF>67341406</ns2:cNF><ns2:natOp>Remessa de vasilhame ou sacaria</ns2:natOp><ns2:mod>55</ns2:mod><ns2:serie>1</ns2:serie><ns2:nNF>45035</ns2:nNF><ns2:dhEmi>2023-05-09T09:18:25-03:00</ns2:dhEmi><ns2:dhSaiEnt>2023-05-09T09:18:25-03:00</ns2:dhSaiEnt><ns2:tpNF>1</ns2:tpNF><ns2:idDest>1</ns2:idDest><ns2:cMunFG>2211001</ns2:cMunFG><ns2:tpImp>1</ns2:tpImp><ns2:tpEmis>1</ns2:tpEmis><ns2:cDV>6</ns2:cDV><ns2:tpAmb>2</ns2:tpAmb><ns2:finNFe>1</ns2:finNFe><ns2:indFinal>1</ns2:indFinal><ns2:indPres>0</ns2:indPres><ns2:procEmi>0</ns2:procEmi><ns2:verProc>rev-nfe-old_0.0.1</ns2:verProc></ns2:ide><ns2:emit><ns2:CNPJ>11520224000140</ns2:CNPJ><ns2:xNome>Tartigrado Tecnologia LTDA</ns2:xNome><ns2:xFant>RevGás</ns2:xFant><ns2:enderEmit><ns2:xLgr>Avenida Raul Lopes</ns2:xLgr><ns2:nro>333</ns2:nro><ns2:xBairro>Fátima</ns2:xBairro><ns2:cMun>2211001</ns2:cMun><ns2:xMun>Teresina</ns2:xMun><ns2:UF>PI</ns2:UF><ns2:CEP>64049548</ns2:CEP><ns2:cPais>1058</ns2:cPais><ns2:xPais>BRASIL</ns2:xPais><ns2:fone>558632622414</ns2:fone></ns2:enderEmit><ns2:IE>194739350</ns2:IE><ns2:CRT>3</ns2:CRT></ns2:emit><ns2:dest><ns2:CNPJ>11520224000140</ns2:CNPJ><ns2:xNome>NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL</ns2:xNome><ns2:enderDest><ns2:xLgr>Avenida Raul Lopes</ns2:xLgr><ns2:nro>333</ns2:nro><ns2:xBairro>Fátima</ns2:xBairro><ns2:cMun>2211001</ns2:cMun><ns2:xMun>Teresina</ns2:xMun><ns2:UF>PI</ns2:UF><ns2:CEP>64049548</ns2:CEP><ns2:cPais>1058</ns2:cPais><ns2:xPais>BRASIL</ns2:xPais></ns2:enderDest><ns2:indIEDest>1</ns2:indIEDest><ns2:IE>194739350</ns2:IE></ns2:dest><ns2:autXML><ns2:CPF>16909879015</ns2:CPF></ns2:autXML><ns2:det nItem=\"1\"><ns2:prod><ns2:cProd>1225</ns2:cProd><ns2:cEAN>SEM GTIN</ns2:cEAN><ns2:xProd>VASILHAME 13KG - ONU 1075 GLP 2.1</ns2:xProd><ns2:NCM>73110000</ns2:NCM><ns2:CEST>0101900</ns2:CEST><ns2:CFOP>5920</ns2:CFOP><ns2:uCom>UNID</ns2:uCom><ns2:qCom>1</ns2:qCom><ns2:vUnCom>160.0000000000</ns2:vUnCom><ns2:vProd>160.00</ns2:vProd><ns2:cEANTrib>SEM GTIN</ns2:cEANTrib><ns2:uTrib>UNID</ns2:uTrib><ns2:qTrib>1</ns2:qTrib><ns2:vUnTrib>160.0000000000</ns2:vUnTrib><ns2:indTot>1</ns2:indTot></ns2:prod><ns2:imposto><ns2:ICMS><ns2:ICMS40><ns2:orig>0</ns2:orig><ns2:CST>40</ns2:CST></ns2:ICMS40></ns2:ICMS><ns2:PIS><ns2:PISOutr><ns2:CST>49</ns2:CST><ns2:vBC>0.00</ns2:vBC><ns2:pPIS>0.00</ns2:pPIS><ns2:vPIS>0.00</ns2:vPIS></ns2:PISOutr></ns2:PIS><ns2:COFINS><ns2:COFINSOutr><ns2:CST>49</ns2:CST><ns2:vBC>0.00</ns2:vBC><ns2:pCOFINS>0.00</ns2:pCOFINS><ns2:vCOFINS>0.00</ns2:vCOFINS></ns2:COFINSOutr></ns2:COFINS></ns2:imposto></ns2:det><ns2:total><ns2:ICMSTot><ns2:vBC>0.00</ns2:vBC><ns2:vICMS>0.00</ns2:vICMS><ns2:vICMSDeson>0.00</ns2:vICMSDeson><ns2:vFCP>0.00</ns2:vFCP><ns2:vBCST>0.00</ns2:vBCST><ns2:vST>0.00</ns2:vST><ns2:vFCPST>0.00</ns2:vFCPST><ns2:vFCPSTRet>0.00</ns2:vFCPSTRet><ns2:vProd>160.00</ns2:vProd><ns2:vFrete>0.00</ns2:vFrete><ns2:vSeg>0.00</ns2:vSeg><ns2:vDesc>0.00</ns2:vDesc><ns2:vII>0.00</ns2:vII><ns2:vIPI>0.00</ns2:vIPI><ns2:vIPIDevol>0.00</ns2:vIPIDevol><ns2:vPIS>0.00</ns2:vPIS><ns2:vCOFINS>0.00</ns2:vCOFINS><ns2:vOutro>0.00</ns2:vOutro><ns2:vNF>160.00</ns2:vNF><ns2:vTotTrib>0.00</ns2:vTotTrib></ns2:ICMSTot></ns2:total><ns2:transp><ns2:modFrete>9</ns2:modFrete><ns2:vol><ns2:qVol>1</ns2:qVol><ns2:esp>VASILHAME</ns2:esp><ns2:marca>INDEPENDENTE</ns2:marca><ns2:pesoL>13.000</ns2:pesoL><ns2:pesoB>13.000</ns2:pesoB></ns2:vol></ns2:transp><ns2:pag><ns2:detPag><ns2:indPag>0</ns2:indPag><ns2:tPag>90</ns2:tPag><ns2:vPag>0.00</ns2:vPag></ns2:detPag></ns2:pag><ns2:infAdic/><ns2:infRespTec><ns2:CNPJ>11520224000140</ns2:CNPJ><ns2:xContato>Rafael Ferreira da Costa</ns2:xContato><ns2:email>rafael@revgas.com</ns2:email><ns2:fone>01149508005</ns2:fone></ns2:infRespTec></ns2:infNFe><Signature><SignedInfo><CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/><SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/><Reference URI=\"#NFe22230511520224000140550010000450351673414066\"><Transforms><Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/><Transform Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/></Transforms><DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/><DigestValue>ZPapSkkw+aqPgxMRw601rFYUt3Q=</DigestValue></Reference></SignedInfo><SignatureValue>QbUjufEaBTjeouSGHF/3/b/wsJaQrkNf77nPRrWnjxqVExyy3ZgscFV3citzlCmnQ3OMmxsX//9jQQEfftWTnyraeb4Uo2y4aquUHeMHiWlU0NGrHu0MlwZj/2K8Dg9JFX5+9q5bZwIiJZla7FU/Ng1PFKfaORgHnzfw00TkCpkk262EvUvF/XjKX7fd3A3/CrHhha5SVoJBuFQ2zMi+UOFF4TvcpJa3Ze9PbtTWtAyBc/c3yB754dz/e9hmTIuqVdL5jtOpCrFNx3kjkVFADZccdAzQr5XFG+2iQa5e/99JFjAQryO2hIydfjPAlU+29RIDLNuoF50/CexAmF1HwQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></ns2:NFe><ns2:protNFe versao=\"4.00\"><ns2:infProt><ns2:tpAmb>2</ns2:tpAmb><ns2:verAplic>SVRS202304271238</ns2:verAplic><ns2:chNFe>22230511520224000140550010000450351673414066</ns2:chNFe><ns2:dhRecbto>2023-05-09T09:18:25-03:00</ns2:dhRecbto><ns2:nProt>322230000007863</ns2:nProt><ns2:digVal>ZPapSkkw+aqPgxMRw601rFYUt3Q=</ns2:digVal><ns2:cStat>100</ns2:cStat><ns2:xMotivo>Autorizado o uso da NF-e</ns2:xMotivo></ns2:infProt></ns2:protNFe></ns2:nfeProc>";
        String xmlWithoutNamespace = "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><nfeProc versao=\"4.00\" xmlns=\"http://www.portalfiscal.inf.br/nfe\"><NFe><infNFe versao=\"4.00\" Id=\"NFe22230511520224000140550010000450351673414066\"><ide><cUF>22</cUF><cNF>67341406</cNF><natOp>Remessa de vasilhame ou sacaria</natOp><mod>55</mod><serie>1</serie><nNF>45035</nNF><dhEmi>2023-05-09T09:18:25-03:00</dhEmi><dhSaiEnt>2023-05-09T09:18:25-03:00</dhSaiEnt><tpNF>1</tpNF><idDest>1</idDest><cMunFG>2211001</cMunFG><tpImp>1</tpImp><tpEmis>1</tpEmis><cDV>6</cDV><tpAmb>2</tpAmb><finNFe>1</finNFe><indFinal>1</indFinal><indPres>0</indPres><procEmi>0</procEmi><verProc>rev-nfe-old_0.0.1</verProc></ide><emit><CNPJ>11520224000140</CNPJ><xNome>Tartigrado Tecnologia LTDA</xNome><xFant>RevGás</xFant><enderEmit><xLgr>Avenida Raul Lopes</xLgr><nro>333</nro><xBairro>Fátima</xBairro><cMun>2211001</cMun><xMun>Teresina</xMun><UF>PI</UF><CEP>64049548</CEP><cPais>1058</cPais><xPais>BRASIL</xPais><fone>558632622414</fone></enderEmit><IE>194739350</IE><CRT>3</CRT></emit><dest><CNPJ>11520224000140</CNPJ><xNome>NF-E EMITIDA EM AMBIENTE DE HOMOLOGACAO - SEM VALOR FISCAL</xNome><enderDest><xLgr>Avenida Raul Lopes</xLgr><nro>333</nro><xBairro>Fátima</xBairro><cMun>2211001</cMun><xMun>Teresina</xMun><UF>PI</UF><CEP>64049548</CEP><cPais>1058</cPais><xPais>BRASIL</xPais></enderDest><indIEDest>1</indIEDest><IE>194739350</IE></dest><autXML><CPF>16909879015</CPF></autXML><det nItem=\"1\"><prod><cProd>1225</cProd><cEAN>SEM GTIN</cEAN><xProd>VASILHAME 13KG - ONU 1075 GLP 2.1</xProd><NCM>73110000</NCM><CEST>0101900</CEST><CFOP>5920</CFOP><uCom>UNID</uCom><qCom>1</qCom><vUnCom>160.0000000000</vUnCom><vProd>160.00</vProd><cEANTrib>SEM GTIN</cEANTrib><uTrib>UNID</uTrib><qTrib>1</qTrib><vUnTrib>160.0000000000</vUnTrib><indTot>1</indTot></prod><imposto><ICMS><ICMS40><orig>0</orig><CST>40</CST></ICMS40></ICMS><PIS><PISOutr><CST>49</CST><vBC>0.00</vBC><pPIS>0.00</pPIS><vPIS>0.00</vPIS></PISOutr></PIS><COFINS><COFINSOutr><CST>49</CST><vBC>0.00</vBC><pCOFINS>0.00</pCOFINS><vCOFINS>0.00</vCOFINS></COFINSOutr></COFINS></imposto></det><total><ICMSTot><vBC>0.00</vBC><vICMS>0.00</vICMS><vICMSDeson>0.00</vICMSDeson><vFCP>0.00</vFCP><vBCST>0.00</vBCST><vST>0.00</vST><vFCPST>0.00</vFCPST><vFCPSTRet>0.00</vFCPSTRet><vProd>160.00</vProd><vFrete>0.00</vFrete><vSeg>0.00</vSeg><vDesc>0.00</vDesc><vII>0.00</vII><vIPI>0.00</vIPI><vIPIDevol>0.00</vIPIDevol><vPIS>0.00</vPIS><vCOFINS>0.00</vCOFINS><vOutro>0.00</vOutro><vNF>160.00</vNF><vTotTrib>0.00</vTotTrib></ICMSTot></total><transp><modFrete>9</modFrete><vol><qVol>1</qVol><esp>VASILHAME</esp><marca>INDEPENDENTE</marca><pesoL>13.000</pesoL><pesoB>13.000</pesoB></vol></transp><pag><detPag><indPag>0</indPag><tPag>90</tPag><vPag>0.00</vPag></detPag></pag><infAdic/><infRespTec><CNPJ>11520224000140</CNPJ><xContato>Rafael Ferreira da Costa</xContato><email>rafael@revgas.com</email><fone>01149508005</fone></infRespTec></infNFe><Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"><SignedInfo><CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/><SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/><Reference URI=\"#NFe22230511520224000140550010000450351673414066\"><Transforms><Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/><Transform Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/></Transforms><DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\"/><DigestValue>ZPapSkkw+aqPgxMRw601rFYUt3Q=</DigestValue></Reference></SignedInfo><SignatureValue>QbUjufEaBTjeouSGHF/3/b/wsJaQrkNf77nPRrWnjxqVExyy3ZgscFV3citzlCmnQ3OMmxsX//9jQQEfftWTnyraeb4Uo2y4aquUHeMHiWlU0NGrHu0MlwZj/2K8Dg9JFX5+9q5bZwIiJZla7FU/Ng1PFKfaORgHnzfw00TkCpkk262EvUvF/XjKX7fd3A3/CrHhha5SVoJBuFQ2zMi+UOFF4TvcpJa3Ze9PbtTWtAyBc/c3yB754dz/e9hmTIuqVdL5jtOpCrFNx3kjkVFADZccdAzQr5XFG+2iQa5e/99JFjAQryO2hIydfjPAlU+29RIDLNuoF50/CexAmF1HwQ==</SignatureValue><KeyInfo><X509Data><X509Certificate>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</X509Certificate></X509Data></KeyInfo></Signature></NFe><protNFe versao=\"4.00\"><infProt><tpAmb>2</tpAmb><verAplic>SVRS202304271238</verAplic><chNFe>22230511520224000140550010000450351673414066</chNFe><dhRecbto>2023-05-09T09:18:25-03:00</dhRecbto><nProt>322230000007863</nProt><digVal>ZPapSkkw+aqPgxMRw601rFYUt3Q=</digVal><cStat>100</cStat><xMotivo>Autorizado o uso da NF-e</xMotivo></infProt></protNFe></nfeProc>";
        assertEquals(xmlWithoutNamespace, XMLStringUtils.cleanNamespace(xmlWithNameSpace));
    }

    @Test
    void testIdEvento() {
        assertEquals("ID1101119999999999999999999999999999999999999999999901", XMLStringUtils.idEvento("110111", "99999999999999999999999999999999999999999999", "1"));
        assertEquals("ID1101119999999999999999999999999999999999999999999999", XMLStringUtils.idEvento("110111", "99999999999999999999999999999999999999999999", "99"));
    }

    @Test
    void testIdNfeInut() {
        assertEquals("ID2220231152022400014055001000000001000000100", XMLStringUtils.idNfeInut("22", "2023", "11520224000140", "55", "1", "1", "100"));
        assertEquals("ID2220231152022400014055001999999999999999999", XMLStringUtils.idNfeInut("22", "2023", "11520224000140", "55", "1", "999999999", "999999999"));
    }

    @Test
    void testIdCteInut() {
        assertEquals("ID221152022400014055001000000001000000100", XMLStringUtils.idCteInut("22", "11520224000140", "55", "1", "1", "100"));
        assertEquals("ID221152022400014055001999999999999999999", XMLStringUtils.idCteInut("22", "11520224000140", "55", "1", "999999999", "999999999"));
    }

    @Test
    void testIdNf() {
        assertEquals("NFe2220231111520224000140550010000000011673414066", XMLStringUtils.idNf("22", "2023", "11", "11520224000140", "55", "1", "1", "1", "67341406", "6"));
    }

    @Test
    void testIdCte() {
        assertEquals("CTe2220231111520224000140570010000000011673414066", XMLStringUtils.idCte("22", "2023", "11", "11520224000140", "57", "1", "1", "1", "67341406", "6"));
    }

    @Test
    void testIdMdfe() {
        assertEquals("MDFe2220231111520224000140580010000000011673414066", XMLStringUtils.idMdfe("22", "2023", "11", "11520224000140", "58", "1", "1", "1", "67341406", "6"));
    }
}